(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1415)}])},1415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(4051),r=n.n(a),i=n(5893),s=n(6076),p=n(6494),d=n(5553),u=n(715),o=n(7294),y=n(9669),l=n.n(y),m=n(2484),c=n.n(m),f="0xb7F20B9A6650281644610A40bc8c467eFE434A5A",T="0x692E657eCF8d53215D8E80608194bf8d57cd33A6",b=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_marketplaceAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_tokenURI","type":"string"}],"name":"createToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),x=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftContract","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"bool","name":"sold","type":"bool"}],"name":"MarketItemCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftContract","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"MarketItemSold","type":"event"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"createMarketItem","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"createMarketSale","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"fetchMarketItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct NFTMarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fetchMyOwnedItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct NFTMarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fetchMySellingItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct NFTMarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getListingPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]}');function v(e,t,n,a,r,i,s){try{var p=e[i](s),d=p.value}catch(u){return void n(u)}p.done?t(d):Promise.resolve(d).then(a,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){v(i,a,r,s,p,"next",e)}function p(e){v(i,a,r,s,p,"throw",e)}s(void 0)}))}}function k(){var e=(0,o.useState)([]),t=e[0],n=e[1],a=(0,o.useState)("not-loaded"),y=a[0],m=a[1];(0,o.useEffect)((function(){v()}),[]);var v=function(){var e=w(r().mark((function e(){var t,a,i,d,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new u.Q(window.ethereum),a=new s.CH(T,b.Mt,t),i=new s.CH(f,x.Mt,t),console.log("marketContract",i),e.next=6,i.fetchMarketItems();case 6:return d=e.sent,console.log("data",d),e.next=10,Promise.all(d.map(function(){var e=w(r().mark((function e(t){var n,i,s,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenURI(t.tokenId);case 2:return n=e.sent,e.next=5,l().get(n);case 5:return i=e.sent,s=p.formatUnints(t.price.toString(),"ether"),d={price:s,tokenId:t.tokenId.toNumber(),seller:t.seller,owner:t.owner,image:i.data.image,name:i.data.name,description:i.data.description},e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:o=e.sent,n(o),m("loaded");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=w(r().mark((function e(t){var n,a,i,p,o,y,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(c()),e.next=3,n.connect();case 3:return a=e.sent,i=u.Q(a),p=i.getSigner(),o=new s.CH(f,x.Mt,p),y=d.vz(t.price.toString(),"ether"),e.next=10,o.createMarketSale(T,t.tokenId,{value:y});case 10:return l=e.sent,e.next=13,l.wait();case 13:v();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"loaded"!==y||t.length?(0,i.jsx)("div",{className:"flex justfy-center",children:(0,i.jsx)("div",{className:"px-4",style:{maxWidth:"1600px"},children:(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4",children:t.map((function(e,t){return(0,i.jsxs)("div",{className:"border shadow rounded-xl overflow-hidden",children:[(0,i.jsx)("img",{src:nfg.image}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("p",{style:{height:"64px"},className:"text-2xl font-semibold",children:e.name}),(0,i.jsx)("div",{style:{height:"70px",overflow:"hidden"},children:(0,i.jsx)("p",{className:"text-gray-400",children:nfg.description})})]}),(0,i.jsxs)("div",{className:"p-4 bg-black",children:[(0,i.jsxs)("p",{className:"text-2xl mb-4 font-bold text-white",children:[e.price," Matic"]}),(0,i.jsx)("button",{className:"w-full bg-pink-500 text-white font-bold py-2 px-12 rounded",onClick:function(){return k(e)},children:"Buy"})]})]},t)}))})})}):(0,i.jsx)("h1",{className:"px-20 py-10 text-3xl",children:"No items in marketplace"})}},6601:function(){}},function(e){e.O(0,[277,905,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);